// envelope contract for communication between the controller and worker agents
{
  "request_id": "uuid",
  "tenant_id": "string",
  "user": { "id": "string", "role": "string", "scopes": ["..."] },
  "input": { "message": "string", "attachments": [] },
  "context": { "facts": [], "memory_summary": "string" },
  "policy": { "pii": "mask|allow|block", "tools_allowed": ["worker_1"] },
  "trace": { "parent_span": "string", "span": "string" }
}


//example of response from a worker agent (e.g., database_agent)
{
  "request_id": "uuid",
  "worker": "worker_1",
  "status": "ok|needs_more|error",
  "result": { },
  "evidence": [ { "source": "crm", "id": "123" } ],
  "cost": { "tokens": 0, "ms": 0 },
  "errors": []
}
